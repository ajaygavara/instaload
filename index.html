<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>InstaLoad</title>
<style>
body{margin:0;font-family:Arial,sans-serif;transition:0.3s;display:flex;flex-direction:column;align-items:center;padding:40px;}
header{display:flex;align-items:center;gap:15px;margin-bottom:20px;}
header img{width:50px;height:50px;}
input{width:70%;padding:12px;border-radius:10px;border:1px solid #ccc;margin-bottom:10px;}
button{padding:12px 20px;border:none;border-radius:10px;background:linear-gradient(90deg,#ff0066,#ff6600);color:white;cursor:pointer;transition:0.3s;}
button:hover{opacity:0.8;}
.result img,video{width:90%;margin:15px 0;border-radius:10px;}
.dark{background:#121212;color:white;}
.light{background:#f5f5f5;color:#222;}
</style>
</head>
<body class="dark">
<header>
<img src="https://i.ibb.co/4fX8pZq/instaload-logo.png" alt="InstaLoad Logo">
<h1>InstaLoad</h1>
<button id="toggleTheme">ðŸŒ™</button>
</header>
<input id="url" placeholder="Paste Instagram URL">
<button onclick="fetchMedia()">Fetch Media</button>
<div class="result" id="result"></div>
<script>
const toggle=document.getElementById('toggleTheme');
toggle.onclick=()=>{
  document.body.classList.toggle('dark');
  document.body.classList.toggle('light');
};
async function fetchMedia(){
  const url=document.getElementById('url').value;
  if(!url) return alert('Paste URL');
  const res=await fetch(`/api/fetch?url=${encodeURIComponent(url)}`);
  const data=await res.json();
  const box=document.getElementById('result');
  box.innerHTML='';
  data.media.forEach(m=>{
    if(m.type==='image') box.innerHTML+=`<img src='${m.url}'>`;
    else box.innerHTML+=`<video controls src='${m.url}'></video>`;
    box.innerHTML+=`<br><a href='/api/proxy?url=${encodeURIComponent(m.url)}' download><button>Download</button></a>`;
  });
}
</script>
</body>
</html>
